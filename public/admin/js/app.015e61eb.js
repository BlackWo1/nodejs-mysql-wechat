(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)n=i[d],s[n]&&m.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},o=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0168":function(t,e,a){},"0670":function(t,e,a){},1642:function(t,e,a){"use strict";var r=a("a9bd"),s=a.n(r);s.a},"2a56":function(t,e,a){},3019:function(t,e,a){},3657:function(t,e,a){},"36a9":function(t,e,a){"use strict";var r=a("0670"),s=a.n(r);s.a},3740:function(t,e,a){"use strict";var r=a("6f92"),s=a.n(r);s.a},3975:function(t,e,a){"use strict";var r=a("3019"),s=a.n(r);s.a},"42c3":function(t,e,a){"use strict";var r=a("790b"),s=a.n(r);s.a},"523f":function(t,e,a){"use strict";var r=a("8553"),s=a.n(r);s.a},"54d2":function(t,e,a){"use strict";var r=a("3657"),s=a.n(r);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},o=[],n={},i=n,l=(a("5c0b"),a("2877")),c=Object(l["a"])(i,s,o,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("div",{staticClass:"form-box"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"title"},[t._v("欢迎登陆")]),a("div",{staticClass:"body"},[a("div",{staticClass:"form-control",class:{error:!t.valid[0]}},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入账户名"},domProps:{value:t.formData.username},on:{blur:t.checkUsername,input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}})]),a("div",{staticClass:"form-control",class:{error:!t.valid[1]}},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input-control",attrs:{type:"password",pattern:"[1-9]\\d{6,}",placeholder:"请输入密码"},domProps:{value:t.formData.password},on:{blur:t.checkPassword,input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})]),a("div",{staticClass:"form-control"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regHandle(e)}}},[t._v("登 录")])]),a("div",{staticClass:"link-box"},[a("router-link",{attrs:{to:"/register"}},[t._v("注册账户")]),a("router-link",{attrs:{to:"/register"}},[t._v("忘记密码？")])],1)])])])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-lock"})])}],p=a("cebc"),v={props:["redirect"],data:function(){return{formData:{username:"",password:""},valid:[!0,!0]}},methods:{checkUsername:function(){var t=/[A-Za-z0-9_-]{5,}/,e=t.test(this.formData.username);return this.$set(this.valid,0,e),e},checkPassword:function(){var t=/\d{6,}/,e=t.test(this.formData.password);return this.$set(this.valid,1,e),e},regHandle:function(){var t=this,e=this.checkUsername()&&this.checkPassword();e&&this.$store.dispatch("User/Login",Object(p["a"])({},this.formData)).then(function(e){sessionStorage.token=e.data.token,sessionStorage.uid=e.data.id,sessionStorage.role=e.data.role,t.$message({message:e.msg,type:"success",duration:1e3,onClose:function(){t.redirect?t.$router.push(t.redirect):t.$router.push("/index")}})}).catch(function(e){t.$message.error(e.msg)})}}},h=v,b=(a("36a9"),Object(l["a"])(h,m,f,!1,null,"61bf3bcd",null)),g=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("div",{staticClass:"form-box"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"title"},[t._v("注册新账户")]),a("div",{staticClass:"body"},[a("div",{staticClass:"form-control"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入账户名"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}})]),a("div",{staticClass:"form-control"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"input-control",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})]),a("div",{staticClass:"form-control"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.nickname,expression:"formData.nickname"}],staticClass:"input-control",attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:t.formData.nickname},on:{input:function(e){e.target.composing||t.$set(t.formData,"nickname",e.target.value)}}})]),a("div",{staticClass:"form-control"},[t._m(3),a("div",{staticClass:"sex-box"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.sex,expression:"formData.sex"}],attrs:{checked:"",name:"sex",value:"男",id:"man",type:"radio"},domProps:{checked:t._q(t.formData.sex,"男")},on:{change:function(e){return t.$set(t.formData,"sex","男")}}}),a("i",{staticClass:"fa fa-mars"}),t._v("\n\t\t\t\t\t\t\t男\n\t\t\t\t\t\t")]),a("label",{attrs:{for:"woman"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.sex,expression:"formData.sex"}],attrs:{id:"woman",name:"sex",value:"女",type:"radio"},domProps:{checked:t._q(t.formData.sex,"女")},on:{change:function(e){return t.$set(t.formData,"sex","女")}}}),a("i",{staticClass:"fa fa-venus"}),t._v("\n\t\t\t\t\t\t\t女\n\t\t\t\t\t\t")])])]),a("div",{staticClass:"form-control"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.tel,expression:"formData.tel"}],staticClass:"input-control",attrs:{type:"number",placeholder:"请输入手机号码"},domProps:{value:t.formData.tel},on:{input:function(e){e.target.composing||t.$set(t.formData,"tel",e.target.value)}}})]),a("div",{staticClass:"form-control"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.regHandle}},[t._v("注 册")])]),a("div",{staticClass:"link-box"},[a("router-link",{attrs:{to:"/login"}},[t._v("密码登录")]),a("router-link",{attrs:{to:"/register"}},[t._v("忘记密码？")])],1)])])])])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-lock"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-tag"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-venus-mars"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-on"},[a("i",{staticClass:"fa fa-mobile"})])}],k={data:function(){return{formData:{username:"",password:"",nickname:"",sex:"",tel:""}}},methods:{regHandle:function(){var t=this;this.$store.dispatch("User/Register",Object(p["a"])({},this.formData)).then(function(e){sessionStorage.token=e.data.token,sessionStorage.uid=e.data.id,sessionStorage.role=e.data.role,t.$message({message:e.msg,type:"success",duration:1e3,onClose:function(){t.$router.push("/index")}})}).catch(function(e){t.$message.error(e.msg)})}}},w=k,C=(a("523f"),Object(l["a"])(w,_,x,!1,null,"667991af",null)),y=C.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"clearfix am-margin-bottom-lg"},[t._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("用户管理")])],1)],1)]),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"uid",label:"#"}}),a("el-table-column",{attrs:{sortable:"",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"avatar",attrs:{src:t.row.avatar,width:"60",alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"username",sortable:"",label:"账号"}}),a("el-table-column",{attrs:{prop:"nickname",sortable:"",label:"昵称"}}),a("el-table-column",{attrs:{prop:"sex",sortable:"",label:"性别",width:"120"}}),a("el-table-column",{attrs:{prop:"tel",sortable:"",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"role_name",sortable:"",label:"权限"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:"",icon:"el-icon-edit",size:"small",type:"primary"},on:{click:function(a){return t.showEditModal(e.row)}}}),a("el-button",{attrs:{icon:"el-icon-delete",plain:"",size:"small",type:"danger"},on:{click:function(a){return t.showDeleteModal(e.row.id)}}})]}}])})],1),a("el-dialog",{attrs:{title:"修改信息",visible:t.editModalShow},on:{"update:visible":function(e){t.editModalShow=e}}},[a("el-form",{attrs:{model:t.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"昵称","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[t._v("男")]),a("el-radio",{attrs:{label:"女"}},[t._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",t._n(e))},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"权限","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择账户"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roles,function(t){return a("el-option",{key:t.id,attrs:{label:t.role_name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/avatar/",headers:t.headers,"show-file-list":!1,"on-success":t.editUploadSuccess,"before-upload":t.beforeUpload}},[a("div",{staticClass:"el-upload"},[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editModalShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateInfo}},[t._v("确 定")])],1)],1)],1)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[t._v("客户列表")])])}],P=(a("ac6a"),a("bc3a")),j=a.n(P),M=function(t){return j.a.post("/api/admin/login",t)},D=function(t){return j.a.post("/api/admin/register",t)},U=function(t){return j.a.get("/api/admin/info",{params:t})},I=function(t){return j.a.get("/api/admin/list",{params:t})},E=function(t){return j.a.post("/api/admin/info/update",t)},O={login:M,register:D,getUserInfo:U,list:I,updateUserInfo:E},N=function(t){return j.a.post("/api/category/add",t)},R=function(t){return j.a.post("/api/category/delete",t)},F=function(t){return j.a.post("/api/category/update",t)},B=function(t){return j.a.get("/api/category/sub",{params:t})},A={add:N,remove:R,update:F,load:B},z=function(t){return j.a.post("/api/goods/release",t)},L=function(t){return j.a.post("/api/goods/delete",t)},H=function(t){return j.a.post("/api/goods/edit",t)},V=function(t){return j.a.get("/api/admin/goods/list",{params:t})},G=function(t){return j.a.get("/api/admin/goods/detail",{params:t})},q={release:z,remove:L,update:H,list:V,getDetail:G},T=function(t){return j.a.get("/api/role/list",{params:t})},J={loadRole:T},Z=function(t){return j.a.post("/api/admin/order/list",t)},K={loadList:Z},Q=function(t){return j.a.post("/api/upload/delete",t)},W={deleteImage:Q},X={name:"list",data:function(){return{tableData:[],roles:[],headers:{Authorization:"Bearer ".concat(sessionStorage.token)},editModalShow:!1,form:{uid:"",nickname:"",sex:"男",tel:"",role:"",avatar:""}}},created:function(){this.loadList(),this.loadRole()},methods:{loadList:function(t){var e=this;O.list().then(function(t){t.status&&(t.data.forEach(function(t){t.uid=t.id}),e.tableData=t.data)})},loadRole:function(){var t=this;J.loadRole().then(function(e){e.status&&(t.roles=e.data)})},showEditModal:function(t){this.editModalShow=!0,this.form=t},showDeleteModal:function(t){var e=this;this.$confirm("此操作将永久删除该账户, 是否继续?",{type:"warning"}).then(function(){console.log(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},updateInfo:function(){var t=this;O.updateUserInfo(Object(p["a"])({},this.form)).then(function(e){e.status&&(t.editModalShow=!1,t.$message.success(e.msg),t.loadList())})},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png",a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},editUploadSuccess:function(t,e){this.form.avatar=t.src}}},Y=X,tt=(a("3975"),Object(l["a"])(Y,$,S,!1,null,"45ea3616",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("el-form",{attrs:{model:t.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"账户","label-width":"100px"}},[a("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"昵称","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[t._v("男")]),a("el-radio",{attrs:{label:"女"}},[t._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",t._n(e))},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"权限","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择账户"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roles,function(t){return a("el-option",{key:t.id,attrs:{label:t.role_name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"头像","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/avatar/",headers:t.headers,"show-file-list":!1,"on-success":t.editUploadSuccess,"before-upload":t.beforeUpload}},[a("div",{staticClass:"el-upload"},[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1),a("el-button",{attrs:{type:"primary"},on:{click:t.updateInfo}},[t._v("修 改")])],1)],1)},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[t._v("账户信息")])])])}],st={data:function(){return{headers:{Authorization:"Bearer ".concat(sessionStorage.token)},roles:[],form:{}}},created:function(){this.loadRole(),this.form=Object(p["a"])({},this.$store.state.User.userInfo)},methods:{loadRole:function(){var t=this;J.loadRole().then(function(e){e.status&&(t.roles=e.data)})},updateInfo:function(){var t=this;this.$store.dispatch("User/UpdateUserInfo",Object(p["a"])({},this.form)).then(function(e){e.status&&t.$message.success(e.msg)})},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png",a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},editUploadSuccess:function(t,e){this.form.avatar=t.src}}},ot=st,nt=(a("1642"),Object(l["a"])(ot,at,rt,!1,null,"6b47f6a4",null)),it=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#",width:"50"}}),a("el-table-column",{attrs:{width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{attrs:{data:e.row.goodsList}},[a("el-table-column",{attrs:{prop:"name",label:"商品",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"goods"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:e.row.img_md}})]),a("div",{staticClass:"name"},[a("span",[t._v(t._s(e.row.name))])])])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"goods_price",label:"单价"}}),a("el-table-column",{attrs:{prop:"goods_num",label:"数量"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"payment",label:"付款总额"}}),a("el-table-column",{attrs:{prop:"create_time",sortable:"",label:"下单时间",width:"180"}}),a("el-table-column",{attrs:{prop:"status",sortable:"",label:"状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"}})]}}])})],1)],1)},ct=[],ut={data:function(){return{tableData:[]}},created:function(){var t=this;K.loadList({status:"all"}).then(function(e){e.status&&(e.data.forEach(function(t){t.create_time=new Date(t.create_time).toLocaleString()}),t.tableData=e.data)})},methods:{}},dt=ut,mt=(a("3740"),Object(l["a"])(dt,lt,ct,!1,null,"52b2bff2",null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"container"},[a("el-header",[a("HeaderBar")],1),a("el-container",[a("LeftMenu"),a("el-main",[a("router-view")],1)],1)],1)},vt=[],ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"clearfix"},[r("img",{staticClass:"am-text-middle",attrs:{src:a("d742"),height:"40"}}),r("i",{staticClass:"el-icon-menu am-text-middle am-margin-left-xl",on:{click:t.collapseHandle}}),r("div",{staticClass:"pull-right"},[r("el-dropdown",{staticClass:"white",attrs:{trigger:"click"}},[r("span",{staticClass:"am-text-middle am-margin-right-sm"},[t._v("\n\t\t\t\t"+t._s(t.nickname)+"\n\t\t\t")]),r("img",{staticClass:"am-text-middle",attrs:{width:"20",src:t.avatar}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[t._v("消息")]),r("el-dropdown-item",[t._v("设置")]),r("el-dropdown-item",[t._v("退出")])],1)],1)],1)])},bt=[],gt=a("2f62"),_t={data:function(){return{}},created:function(){this.getUserInfo()},computed:Object(p["a"])({},Object(gt["b"])("User",["nickname","avatar"])),methods:{collapseHandle:function(){this.$store.commit("Menu/toggleMenu")},getUserInfo:function(){this.$store.dispatch("User/GetUserInfo",{uid:sessionStorage.uid})}}},xt=_t,kt=(a("ccc5"),Object(l["a"])(xt,ht,bt,!1,null,"b8302f08",null)),wt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{attrs:{collapse:t.isCollapse,"default-openeds":["1"],"background-color":"#545c64",router:"","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-goods"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("商品管理")])]),a("el-menu-item",{attrs:{index:"/goods/category"}},[t._v("商品分类")]),a("el-menu-item",{attrs:{index:"/goods/release"}},[t._v("发布商品")]),a("el-menu-item",{attrs:{index:"/goods/list"}},[t._v("商品列表")])],2),1==t.role||2==t.role?a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user-solid"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户管理")])]),a("el-menu-item",{attrs:{index:"/user/list"}},[t._v("用户列表")]),1==t.role?a("el-menu-item",[t._v("用户角色")]):t._e(),1==t.role?a("el-menu-item",[t._v("角色权限")]):t._e()],2):t._e(),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-order"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("订单管理")])]),a("el-menu-item",{attrs:{index:"/order/list"}},[t._v("订单列表")])],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-tools"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("账户设置")])]),a("el-menu-item",{attrs:{index:"/user/info"}},[t._v("账户信息")])],2)],1)},yt=[],$t={computed:Object(p["a"])({},Object(gt["c"])({isCollapse:function(t){return t.Menu.isCollapse}}),Object(gt["b"])({role:"User/role"}))},St=$t,Pt=Object(l["a"])(St,Ct,yt,!1,null,null,null),jt=Pt.exports,Mt={components:{HeaderBar:wt,LeftMenu:jt}},Dt=Mt,Ut=(a("ca9c"),Object(l["a"])(Dt,pt,vt,!1,null,null,null)),It=Ut.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[t._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品分类")])],1)],1)]),a("el-tree",{ref:"tree",attrs:{lazy:"","node-key":"id",load:t.loadNode,props:t.defaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.node,s=e.data;return a("div",{staticClass:"node-box"},[a("span",{staticClass:"node-name"},[t._v(t._s(r.label))]),a("span",{staticClass:"node-action"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.openEditModal(r,s)}}},[t._v("\n\t\t\t\t\t编辑\n\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.openAddModal(r,s)}}},[t._v("\n\t\t\t\t\t添加\n\t\t\t\t")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.openDeleteModal(r,s)}}},[t._v("\n\t\t\t\t\t删除\n\t\t\t\t")])],1)])}}])}),a("el-dialog",{attrs:{title:"编辑节点",visible:t.EditModalVisible},on:{"update:visible":function(e){t.EditModalVisible=e}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"photo-uploader",attrs:{action:"/api/upload/common/",headers:t.headers,"on-success":t.editUploadSuccess,"before-upload":t.beforeUpload,"show-file-list":!1}},[a("div",{staticClass:"el-upload"},[t.editForm.img?a("img",{staticClass:"photo",attrs:{src:t.editForm.img}}):a("i",{staticClass:"el-icon-plus photo-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.EditModalVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.UpdateNodeHandle}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加节点",visible:t.AddModalVisible},on:{"update:visible":function(e){t.AddModalVisible=e}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"photo-uploader",attrs:{action:"/api/upload/common/",headers:t.headers,"on-success":t.addUploadSuccess,"before-upload":t.beforeUpload,"show-file-list":!1}},[a("div",{staticClass:"el-upload"},[t.addForm.img?a("img",{staticClass:"photo",attrs:{src:t.addForm.img}}):a("i",{staticClass:"el-icon-plus photo-uploader-icon"})])])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.AddModalVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.AddNodeHandle}},[t._v("确 定")])],1)],1)],1)},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[t._v("商品分类")])])}],Nt={data:function(){return{defaultProps:{label:"name"},headers:{Authorization:"Bearer ".concat(sessionStorage.token)},EditModalVisible:!1,editForm:{name:"",pId:"",img:""},AddModalVisible:!1,addForm:{name:"",pId:"",img:""},currentNodeData:"",currentNode:""}},methods:{loadNode:function(t,e){if(0===t.level)return e([{name:"全部分类",id:1,img:""}]);A.load({pId:t.data.id}).then(function(t){e(t.data)})},openEditModal:function(t,e){this.EditModalVisible=!0,this.editForm=Object(p["a"])({},e),this.currentNode=t},UpdateNodeHandle:function(){var t=this;A.update(Object(p["a"])({},this.editForm)).then(function(e){e.status&&(t.$message.success(e.msg),t.EditModalVisible=!1,t.currentNode.data=Object(p["a"])({},t.editForm))})},openAddModal:function(t,e){this.addForm.pId=e.id,this.AddModalVisible=!0,this.currentNodeData=e},AddNodeHandle:function(){var t=this;A.add(Object(p["a"])({},this.addForm)).then(function(e){if(e.status){t.$message.success(e.msg),t.AddModalVisible=!1;var a=t.currentNodeData,r=Object(p["a"])({},t.addForm,e.data);a.children||t.$set(a,"children",[]),a.children.push(r)}else t.$message.error(e.msg)})},openDeleteModal:function(t,e){var a=this;this.$msgbox({type:"warning",title:"",message:"此操作将永久删除该分类, 是否继续?"}).then(function(){A.remove({id:e.id}).then(function(e){e.status&&(t.remove(),a.$message({type:"success",message:"删除成功!"}))})})},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png",a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},addUploadSuccess:function(t,e){this.addForm.img=t.src},editUploadSuccess:function(t,e){this.editForm.img=t.src}}},Rt=Nt,Ft=(a("fc20"),Object(l["a"])(Rt,Et,Ot,!1,null,"3e3d497c",null)),Bt=Ft.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",label:"商品名称",width:"550"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"goods"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:e.row.img_md}})]),a("div",{staticClass:"name"},[a("span",[t._v(t._s(e.row.name))]),a("br"),a("span",[t._v("商品货号："+t._s(e.row.articleNo))])])])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"120"}}),a("el-table-column",{attrs:{prop:"inventory",label:"库存",width:"120"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{name:"GoodsEdit",params:{id:e.row.id}}}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"}})],1),a("el-button",{staticClass:"deleteBtn",attrs:{icon:"el-icon-delete",plain:"",size:"small",type:"danger"},on:{click:function(a){return t.showDeleteModal(e.row.id)}}})]}}])})],1)],1)},zt=[],Lt={data:function(){return{tableData:[]}},created:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;q.list({pageSize:100}).then(function(e){e.status&&(e.data.forEach(function(t,e){t.create_time=new Date(t.create_time).toLocaleString()}),t.tableData=e.data)})},showDeleteModal:function(t){var e=this;this.$confirm("确定要删除该商品吗？删除之后无法恢复！！！",{type:"warning"}).then(function(){console.log(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},Ht=Lt,Vt=(a("42c3"),Object(l["a"])(Ht,At,zt,!1,null,"d40e76d2",null)),Gt=Vt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[t._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/goods/list"}}},[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("发布商品")])],1)],1)]),a("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_1st,callback:function(e){t.$set(t.form,"cate_1st",e)},expression:"form.cate_1st"}},t._l(t.cate_1st_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_2nd,callback:function(e){t.$set(t.form,"cate_2nd",e)},expression:"form.cate_2nd"}},t._l(t.cate_2nd_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_3rd,callback:function(e){t.$set(t.form,"cate_3rd",e)},expression:"form.cate_3rd"}},t._l(t.cate_3rd_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.hotPoint,callback:function(e){t.$set(t.form,"hotPoint","string"===typeof e?e.trim():e)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",t._n("string"===typeof e?e.trim():e))},expression:"form.price"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.marketPrice,callback:function(e){t.$set(t.form,"marketPrice",t._n("string"===typeof e?e.trim():e))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.cost,callback:function(e){t.$set(t.form,"cost",t._n("string"===typeof e?e.trim():e))},expression:"form.cost"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{readonly:""},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}},[a("template",{slot:"append"},[t._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",t._n("string"===typeof e?e.trim():e))},expression:"form.inventory"}},[a("template",{slot:"append"},[t._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.articleNo,callback:function(e){t.$set(t.form,"articleNo","string"===typeof e?e.trim():e)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,"list-type":"picture-card",action:"/api/upload/goods/",headers:t.headers,"before-upload":t.handleBeforeUpload,"on-success":t.handleMainSuccess,"before-remove":t.handleMainBeforeRemove,"on-exceed":t.handleMainExceed,"on-error":t.handleError,"on-preview":t.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,"list-type":"picture-card",action:"/api/upload/slider/",headers:t.headers,"before-upload":t.handleBeforeUpload,"on-success":t.handleSliderSuccess,"on-exceed":t.handleSliderExceed,"before-remove":t.handleSliderBeforeRemove,"on-error":t.handleError,"on-preview":t.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中")])],1),a("div",{staticClass:"section-title"},[t._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand","string"===typeof e?e.trim():e)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{ref:"toolbar",staticClass:"w-e-toolbar"}),a("div",{ref:"editor",staticClass:"w-e-text-container"})]),a("div",{staticClass:"section-title"},[t._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.freight,callback:function(e){t.$set(t.form,"freight","string"===typeof e?e.trim():e)},expression:"form.freight"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:t.releaseHandle}},[t._v("提交")])],1)],1),a("el-dialog",{attrs:{width:"30%",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[t._v("发布新商品")])])}],Jt=(a("96cf"),a("3b8d")),Zt=a("1a0b"),Kt=a.n(Zt),Qt={data:function(){return{dialogImageUrl:"",dialogVisible:!1,headers:{Authorization:"Bearer ".concat(sessionStorage.token)},form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},computed:{discount:function(){var t=(this.form.price/this.form.marketPrice*10).toFixed(2);switch(this.form.discount=t,t){case"NaN":return"";case"Infinity":return"";default:return t}}},mounted:function(){var t=this,e=new Kt.a(this.$refs.toolbar,this.$refs.editor);e.customConfig.zIndex=100,e.customConfig.uploadImgServer="/api/upload/editor/",e.customConfig.uploadFileName="file",e.customConfig.onchange=function(e){t.form.detail=e},e.create()},created:function(){this.cateChangeHandle(1,"cate_1st")},watch:{"form.cate_1st":function(t,e){this.cateChangeHandle(t,"cate_2nd")},"form.cate_2nd":function(t,e){this.cateChangeHandle(t,"cate_3rd")}},methods:{cateChangeHandle:function(t,e){var a=this;if(!t)return!1;this.getOptions(t).then(function(t){if(a[e+"_options"]=t,0==t.length)return a.form[e]="",!1;a.form[e]=t[0].id})},getOptions:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(e){var a,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.load({pId:e});case 2:if(a=t.sent,r=a.status,s=a.data,o=a.msg,!r){t.next=10;break}return t.abrupt("return",Promise.resolve(s));case 10:this.$message.error(o);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleMainSuccess:function(t,e,a){t.status&&(this.form.img_lg=t.lgImg,this.form.img_md=t.mdImg)},handleError:function(t,e,a){var r=t.status,s=t.message;switch(r){case 401:this.$message.error("错误:401,Token失效,请重新登录!");break;case 400:s=JSON.parse(s),this.$message.error("错误:400,".concat(s.msg));break;default:this.$message.error("错误:".concat(r,",").concat(s,"!"));break}},handleBeforeUpload:function(t){var e=/^image\/(jpe?g|png)$/,a=e.test(t.type),r=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r},handleMainBeforeRemove:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(e,a){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.deleteImage({src:"."+e.response.lgImg});case 3:return r=t.sent,t.next=6,W.deleteImage({src:"."+e.response.mdImg});case 6:if(s=t.sent,!r.status||!s.status){t.next=13;break}return this.form.img_lg="",this.form.img_md="",t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),this.$message.error(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])}));function e(e,a){return t.apply(this,arguments)}return e}(),handleCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleMainExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleSliderSuccess:function(t,e,a){t.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(t,e){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleSliderBeforeRemove:function(t,e){var a=this;W.deleteImage({src:"."+t.response.src}).then(function(t){return!!t.status&&(a.form.slider=a.convertFileList(e),!0)})},convertFileList:function(t){var e=[];return t.forEach(function(t,a){e.push(t.response.src)}),e.toString()},releaseHandle:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.release(this.form);case 2:e=t.sent,a=e.status,a&&this.$message.success("发布商品成功！");case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},Wt=Qt,Xt=(a("9481"),Object(l["a"])(Wt,qt,Tt,!1,null,"3e74f56e",null)),Yt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"clearfix title-box am-margin-bottom-lg"},[t._m(0),a("div",{staticClass:"pull-right"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/goods/list"}}},[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("编辑商品")])],1)],1)]),a("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_1st,callback:function(e){t.$set(t.form,"cate_1st",e)},expression:"form.cate_1st"}},t._l(t.cate_1st_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_2nd,callback:function(e){t.$set(t.form,"cate_2nd",e)},expression:"form.cate_2nd"}},t._l(t.cate_2nd_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.cate_3rd,callback:function(e){t.$set(t.form,"cate_3rd",e)},expression:"form.cate_3rd"}},t._l(t.cate_3rd_options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品标题名称长度至少3个字符，最长200个汉字")])],1),a("el-form-item",{attrs:{label:"商品卖点"}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.hotPoint,callback:function(e){t.$set(t.form,"hotPoint","string"===typeof e?e.trim():e)},expression:"form.hotPoint"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品卖点不能超过140个汉字")])],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",t._n("string"===typeof e?e.trim():e))},expression:"form.price"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，且不能高于市场价")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格")])],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.marketPrice,callback:function(e){t.$set(t.form,"marketPrice",t._n("string"===typeof e?e.trim():e))},expression:"form.marketPrice"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写")])],1),a("el-form-item",{attrs:{label:"成本价"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.cost,callback:function(e){t.$set(t.form,"cost",t._n("string"===typeof e?e.trim():e))},expression:"form.cost"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示")])],1),a("el-form-item",{attrs:{label:"折扣"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{readonly:""},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}},[a("template",{slot:"append"},[t._v("折")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("根据销售价与市场价比例自动生成不需要编辑")])],1),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",t._n("string"===typeof e?e.trim():e))},expression:"form.inventory"}},[a("template",{slot:"append"},[t._v("件")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("价格必须是0-999999之间的整数")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写")])],1),a("el-form-item",{attrs:{label:"商品货号"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.articleNo,callback:function(e){t.$set(t.form,"articleNo","string"===typeof e?e.trim():e)},expression:"form.articleNo"}})],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("商品货号是商家管理商品的编号，买家不可见")]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点")])],1),a("el-form-item",{attrs:{label:"商品主图"}},[a("el-upload",{attrs:{limit:1,"list-type":"picture-card",action:"/api/upload/goods/",headers:t.headers,"before-upload":t.handleBeforeUpload,"on-success":t.handleMainSuccess,"before-remove":t.handleMainBeforeRemove,"on-exceed":t.handleMainExceed,"on-error":t.handleError,"on-preview":t.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("\n\t\t\t\t上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中\n\t\t\t")])],1),a("el-form-item",{attrs:{label:"商品轮播图"}},[a("el-upload",{attrs:{limit:6,"list-type":"picture-card",action:"/api/upload/slider/",headers:t.headers,"before-upload":t.handleBeforeUpload,"on-success":t.handleSliderSuccess,"on-exceed":t.handleSliderExceed,"before-remove":t.handleSliderBeforeRemove,"on-error":t.handleError,"on-preview":t.handleCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("\n\t\t\t\t上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中\n\t\t\t")])],1),a("div",{staticClass:"section-title"},[t._v("商品详情描述")]),a("el-form-item",{attrs:{label:"商品品牌"}},[a("el-col",{attrs:{span:14}},[a("el-input",{model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand","string"===typeof e?e.trim():e)},expression:"form.brand"}})],1)],1),a("el-form-item",{attrs:{label:"商品描述"}},[a("div",{staticClass:"w-e-toolbar",attrs:{id:"toolbar"}}),a("div",{staticClass:"w-e-text-container",attrs:{id:"editor"}})]),a("div",{staticClass:"section-title"},[t._v("商品物流信息")]),a("el-form-item",{attrs:{label:"所在地"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1),a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}}),a("el-option",{attrs:{label:"区域三",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"运费"}},[a("el-col",{attrs:{span:3}},[a("el-input",{model:{value:t.form.freight,callback:function(e){t.$set(t.form,"freight","string"===typeof e?e.trim():e)},expression:"form.freight"}},[a("template",{slot:"append"},[t._v("元")])],2)],1),a("el-col",{staticClass:"tip",attrs:{span:24}},[t._v("运费设为0，前台商品将显示免运费")])],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:t.releaseHandle}},[t._v("提交")])],1)],1),a("el-dialog",{attrs:{width:"30%",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pull-left"},[a("h3",{staticClass:"title"},[t._v("编辑商品")])])}],ae=new Kt.a("#toolbar","#editor"),re={props:["id"],data:function(){return{dialogImageUrl:"",dialogVisible:!1,headers:{Authorization:"Bearer ".concat(sessionStorage.token)},form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",discount:"",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"},cate_1st_options:[],cate_2nd_options:[],cate_3rd_options:[]}},computed:{discount:function(){var t=(this.form.price/this.form.marketPrice*10).toFixed(2);switch(this.form.discount=t,t){case"NaN":return"";case"Infinity":return"";default:return t}}},created:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDetail();case 2:e=t.sent,ae.txt.html(e.detail),this.cateChangeHandle(1,"cate_1st");case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=this;ae.customConfig.zIndex=100,ae.customConfig.uploadImgServer="/api/upload/editor/",ae.customConfig.uploadFileName="file",ae.customConfig.onchange=function(e){t.form.detail=e},ae.create()},watch:{"form.cate_1st":function(t,e){this.cateChangeHandle(t,"cate_2nd")},"form.cate_2nd":function(t,e){this.cateChangeHandle(t,"cate_3rd")}},methods:{getDetail:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.getDetail({id:this.id});case 2:if(e=t.sent,a=e.status,r=e.data,!a){t.next=8;break}return this.form=r,t.abrupt("return",Promise.resolve(r));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cateChangeHandle:function(t,e){var a=this;if(!t)return!1;this.getOptions(t).then(function(t){if(a[e+"_options"]=t,0==t.length)return a.form[e]="",!1;a.form[e]=t[0].id})},getOptions:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(e){var a,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.load({pId:e});case 2:if(a=t.sent,r=a.status,s=a.data,o=a.msg,!r){t.next=10;break}return t.abrupt("return",Promise.resolve(s));case 10:this.$message.error(o);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleMainSuccess:function(t,e,a){t.status&&(this.form.img_lg=t.lgImg,this.form.img_md=t.mdImg)},handleError:function(t,e,a){var r=t.status,s=t.message;switch(r){case 401:this.$message.error("错误:401,Token失效,请重新登录!");break;case 400:s=JSON.parse(s),this.$message.error("错误:400,".concat(s.msg));break;default:this.$message.error("错误:".concat(r,",").concat(s,"!"));break}},handleBeforeUpload:function(t){var e=/^image\/(jpe?g|png)$/,a=e.test(t.type),r=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r},handleMainBeforeRemove:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(e,a){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.deleteImage({src:"."+e.response.lgImg});case 3:return r=t.sent,t.next=6,W.deleteImage({src:"."+e.response.mdImg});case 6:if(s=t.sent,!r.status||!s.status){t.next=13;break}return this.form.img_lg="",this.form.img_md="",t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),this.$message.error(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])}));function e(e,a){return t.apply(this,arguments)}return e}(),handleCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleMainExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleSliderSuccess:function(t,e,a){t.status&&(this.form.slider=this.convertFileList(a))},handleSliderExceed:function(t,e){this.$message.warning("当前限制选择 6 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleSliderBeforeRemove:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(e,a){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.deleteImage({src:"."+e.response.src});case 2:if(r=t.sent,s=r.status,!s){t.next=9;break}return this.form.slider=this.convertFileList(a),t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),convertFileList:function(t){var e=[];return t.forEach(function(t,a){e.push(t.response.src)}),e.toString()},releaseHandle:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.release(this.form);case 2:e=t.sent,a=e.status,a&&this.$message.success("发布商品成功！");case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},se=re,oe=(a("54d2"),Object(l["a"])(se,te,ee,!1,null,"32d38508",null)),ne=oe.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],attrs:{type:"text"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.marketPrice,expression:"form.marketPrice"}],attrs:{type:"text"},domProps:{value:t.form.marketPrice},on:{input:function(e){e.target.composing||t.$set(t.form,"marketPrice",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"text"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}})])],1)},le=[],ce={data:function(){return{form:{cate_1st:"",cate_2nd:"",cate_3rd:"",hotPoint:"",name:"",price:"",marketPrice:"",cost:"",inventory:"",articleNo:"",img_lg:"",img_md:"",slider:"",brand:"",detail:"",freight:"0",province:"山东省",city:"青岛市",area:"城阳区"}}},computed:{discount:function(){return(this.form.price/this.form.marketPrice*100).toFixed(1)}}},ue=ce,de=Object(l["a"])(ue,ie,le,!1,null,null,null),me=de.exports;r["default"].use(d["a"]);var fe=[{path:"/register",name:"UserRegister",component:y},{path:"/test",name:"Test",component:me},{path:"/login/",name:"UserLogin",component:g,props:function(t){return t.query},alias:"/"},{path:"/index",name:"Index",component:It,redirect:"/goods/list",meta:{requiredAuth:!0},children:[{path:"/goods/category/",name:"GoodsCategory",component:Bt,meta:{requiredAuth:!0}},{path:"/goods/list",name:"GoodsList",component:Gt,meta:{requiredAuth:!0}},{path:"/goods/release",name:"GoodsRelease",component:Yt,meta:{requiredAuth:!0}},{path:"/goods/edit/:id",name:"GoodsEdit",component:ne,props:!0,meta:{requiredAuth:!0}},{path:"/user/list",name:"UserList",component:et,meta:{requiredAuth:!0}},{path:"/order/list",name:"OrderList",component:ft,meta:{requiredAuth:!0}},{path:"/user/info",name:"UserInfo",component:it,meta:{requiredAuth:!0}}]}],pe=new d["a"]({routes:fe});pe.beforeEach(function(t,e,a){if(t.matched.some(function(t){return t.meta.requiredAuth})){if(!sessionStorage.token)return void a({path:"/login",query:{redirect:t.fullPath}});a()}else a()});var ve=pe,he=function(t,e){var a=t.commit;t.state;return new Promise(function(t,r){O.login(e).then(function(e){e.status?(a("SetUserInfo",e.data),t(e)):r(e)})})},be=function(t,e){var a=t.commit;t.state;return new Promise(function(t,r){O.register(e).then(function(e){e.status?(a("SetUserInfo",e.data),t(e)):r(e)})})},ge=function(t,e){var a=t.commit;t.state;return new Promise(function(t,r){O.getUserInfo(e).then(function(e){e.status?(a("SetUserInfo",e.data),t(e)):r(e)})})},_e=function(t,e){var a=t.commit;t.state;return new Promise(function(t,r){O.updateUserInfo(e).then(function(s){s.status?(a("SetUserInfo",e),t(s)):r(s)})})},xe={Login:he,Register:be,GetUserInfo:ge,UpdateUserInfo:_e},ke=function(t){return t.userInfo.role},we=function(t){return t.userInfo.nickname},Ce=function(t){return t.userInfo.avatar},ye={role:ke,nickname:we,avatar:Ce},$e=function(t,e){t.userInfo=e},Se={SetUserInfo:$e},Pe={userInfo:""},je={namespaced:!0,state:Pe,actions:xe,getters:ye,mutations:Se},Me={},De={},Ue=function(t,e){t.isCollapse=!t.isCollapse},Ie={toggleMenu:Ue},Ee={isCollapse:!1},Oe={namespaced:!0,state:Ee,actions:Me,getters:De,mutations:Ie};r["default"].use(gt["a"]);var Ne=new gt["a"].Store({modules:{User:je,Menu:Oe}}),Re=a("5c96"),Fe=a.n(Re);a("0fae");r["default"].use(Fe.a,{size:"small"});var Be,Ae=a("a7fe"),ze=a.n(Ae);j.a.interceptors.request.use(function(t){return Be=Re["Loading"].service({background:"rgba(0, 0, 0, 0.8)"}),"/api/admin/login"==t.url||"/api/admin/register"==t.url?t:(sessionStorage.token?t.headers.Authorization="Bearer ".concat(sessionStorage.token):Re["Message"].error("token未获取，请登录！"),t)},function(t){return Promise.reject(t)}),j.a.interceptors.response.use(function(t){switch(setTimeout(function(){Be.close()},500),t.status){case 200:return t.data;default:Re["Message"].error(t.response.statusText);break}},function(t){return 401==t.response.status&&Re["Message"].error("Token无效，请重新登录！"),Promise.reject(t)}),r["default"].use(ze.a,j.a),r["default"].config.productionTip=!1,new r["default"]({router:ve,store:Ne,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("5e27"),s=a.n(r);s.a},"5e27":function(t,e,a){},"6f92":function(t,e,a){},"790b":function(t,e,a){},8553:function(t,e,a){},"937c":function(t,e,a){},9481:function(t,e,a){"use strict";var r=a("937c"),s=a.n(r);s.a},a9bd:function(t,e,a){},ca9c:function(t,e,a){"use strict";var r=a("2a56"),s=a.n(r);s.a},ccc5:function(t,e,a){"use strict";var r=a("e069"),s=a.n(r);s.a},d742:function(t,e,a){t.exports=a.p+"img/logo.efe6a81a.png"},e069:function(t,e,a){},fc20:function(t,e,a){"use strict";var r=a("0168"),s=a.n(r);s.a}});
//# sourceMappingURL=app.015e61eb.js.map